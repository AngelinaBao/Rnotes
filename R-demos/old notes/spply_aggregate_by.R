-myfun <- function(x, na.omit = FALSE){
  if(na.omit)
    x <- x[!is.na(x)]
  m <- mean(x)
  n <- length(x)
  s <- sd(x)
  skew <- sum((x-m)^3/s^3)/n
  kurt <- sum((x-m)^4/s^4)/n-3
  return(c(n = n, mean = m, sd = s, skew = skew, kurt = kurt))
  
}
car <- c("mpg","hp","wt")
sapply(mtcars[car], myfun)

dstats <- function(x) sapply(x, myfun)
aggregate(mtcars[car], by = list(am = mtcars$am), myfun)
by(mtcars[car], mtcars$am, dstats)

#???????????????????????????????????????,???????????????sapply??????????????????????????????,??????sapply
#??????????????????;aggregate???????????????????????????????????????????????????,????????????????????????
#???????????????,by()?????????????????????????????????????????????,???????????????(by()??????FUN?????????
#????????????????????????,??????????????????myfun??????????????????????????????,???????????????sapply???
#?????????????????????)?????????????????????